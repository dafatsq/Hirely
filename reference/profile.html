<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HireLy - Profile</title>
  <script src="https://cdn.tailwindcss.com?v=3.4.4"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    * { font-family: 'Inter', sans-serif; }
    .card { border-radius: 20px; background: #ffffff; box-shadow: 0 10px 30px rgba(2, 6, 23, 0.10); border: 1px solid rgba(255,255,255,0.1); }
    .btn-primary { border-radius: 9999px; background: #0ea5e9; color: white; padding: 0.65rem 1.5rem; font-weight: 500; transition: filter 0.2s; }
    .btn-primary:hover { filter: brightness(1.1); }
    .btn-secondary { border-radius: 9999px; background: rgba(14,165,233,0.1); color: #0ea5e9; padding: 0.65rem 1.5rem; font-weight: 500; border: 1px solid rgba(14,165,233,0.2); transition: background 0.2s; }
    .btn-secondary:hover { background: rgba(14,165,233,0.15); }
    .input-field { width: 100%; border-radius: 14px; border: 1px solid #e2e8f0; background: rgba(248,250,252,0.8); padding: 0.7rem 1rem; transition: border-color 0.2s, box-shadow 0.2s; }
    .input-field:focus { border-color: #0ea5e9; box-shadow: 0 0 0 3px rgba(14,165,233,0.15); outline: none; }
    .input-field:disabled { background: #f8fafc; color: #94a3b8; }
    .section-title { font-size: 1.25rem; font-weight: 600; color: #0f172a; }
    .chip { display: inline-flex; align-items: center; gap: 0.35rem; padding: 0.35rem 0.9rem; border-radius: 9999px; background: rgba(14,165,233,0.1); color: #0369a1; font-size: 0.9rem; font-weight: 500; }
    .chip button { color: inherit; }
    .progress-track { width: 100%; height: 10px; border-radius: 9999px; background: #e2e8f0; }
    .progress-bar { height: 10px; border-radius: 9999px; background: linear-gradient(90deg,#0ea5e9,#6366f1); }
  </style>
</head>
<body class="bg-[#e9f3ff]" style="background-image: radial-gradient(1400px 700px at 0% -20%, rgba(14,165,233,0.25), transparent 60%), radial-gradient(1400px 700px at 100% -20%, rgba(99,102,241,0.25), transparent 60%); background-repeat: no-repeat; background-attachment: fixed;">
  <!-- Navigation -->
  <nav class="p-6 md:p-8">
    <div class="card max-w-7xl mx-auto px-6 py-4">
      <div class="flex flex-wrap items-center gap-4 justify-between">
        <div class="flex items-center gap-8">
          <a href="index.html" class="text-2xl font-bold text-sky-500">HireLy</a>
          <div class="hidden md:flex gap-6 text-sm font-medium">
            <a href="index.html" class="text-slate-700 hover:text-sky-500 transition-colors">Home</a>
            <a href="jobs.html" class="text-slate-700 hover:text-sky-500 transition-colors">Jobs</a>
            <a href="saved-jobs.html" class="text-slate-700 hover:text-sky-500 transition-colors">Saved Jobs</a>
            <a href="applications.html" class="text-slate-700 hover:text-sky-500 transition-colors">Applications</a>
            <a href="profile.html" class="text-slate-700 hover:text-sky-500 transition-colors">Profile</a>
          </div>
        </div>
        <div class="flex items-center gap-3">
          <a href="login.html" class="btn-secondary hidden sm:block">Login</a>
          <a href="register.html" class="btn-primary">Create Account</a>
        </div>
      </div>
    </div>
  </nav>


  <main class="px-6 md:px-8 pb-16">
    <div class="max-w-7xl mx-auto space-y-8">

      <!-- Profile Header -->
      <section class="card p-8">
        <div class="flex flex-col lg:flex-row gap-8">
          <div class="flex items-center gap-6 flex-1">
            <div class="relative">
              <img id="imgProfilePhoto" src="https://i.pravatar.cc/150?img=47" alt="Profile" class="w-28 h-28 rounded-3xl object-cover">
              <label class="absolute bottom-0 right-0 bg-white border border-slate-200 rounded-full p-2 shadow cursor-pointer" title="Change photo">
                <input type="file" id="filePhoto" class="hidden" accept="image/*">
                <svg class="w-5 h-5 text-sky-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536M9 19l-4 1 1-4 9.879-9.879a2.5 2.5 0 013.536 3.536L9 19z" />
                </svg>
              </label>
            </div>
            <div>
              <h1 id="lblFullName" class="text-3xl font-bold text-slate-900">-</h1>
              <p id="lblHeadline" class="text-slate-600 mb-2">-</p>
              <div class="flex flex-wrap gap-4 text-slate-500 text-sm">
                <div class="flex items-center gap-1">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/></svg>
                  <span id="lblLocation">-</span>
                </div>
                <div class="flex items-center gap-1">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5h12M9 3v2m-6 4h12m-6 4v2m6-6h6m-3-3v6"/></svg>
                  <span id="lblExperience">-</span>
                </div>
              </div>
            </div>
          </div>
          <div class="w-full lg:w-80 space-y-4">
            <div class="flex items-center justify-between">
              <span class="text-sm font-medium text-slate-500">Profile Completeness</span>
              <span id="lblCompleteness" class="text-sm font-semibold text-slate-900">0%</span>
            </div>
            <div class="progress-track">
              <div id="barCompleteness" class="progress-bar" style="width: 0%;"></div>
            </div>
            <p class="text-xs text-slate-500">Complete your profile so your personalized job recommendations are more accurate.</p>
            <div class="flex gap-3 flex-wrap">
              <button id="btnEditProfile" class="btn-primary">Edit Profile</button>
              <button id="btnShareProfile" class="btn-secondary">Share Profile</button>
            </div>
          </div>
        </div>
      </section>

      <!-- Personal Info -->
      <section class="card p-8">
        <div class="flex items-center justify-between mb-6">
          <h2 class="section-title">Personal Information</h2>
          <span class="text-sm text-slate-500">Visible to employers on applications</span>
        </div>
        <div class="grid md:grid-cols-2 gap-6">
          <div>
            <label class="text-sm font-medium text-slate-600">Full Name</label>
            <input id="inputFullName" class="input-field" type="text" disabled>
          </div>
          <div>
            <label class="text-sm font-medium text-slate-600">Professional Headline</label>
            <input id="inputHeadline" class="input-field" type="text" disabled>
          </div>
          <div>
            <label class="text-sm font-medium text-slate-600">Email Address</label>
            <input id="inputEmail" class="input-field" type="email" disabled>
          </div>
          <div>
            <label class="text-sm font-medium text-slate-600">Phone Number</label>
            <input id="inputPhone" class="input-field" type="tel" disabled>
          </div>
          <div>
            <label class="text-sm font-medium text-slate-600">Location</label>
            <input id="inputLocation" class="input-field" type="text" disabled>
          </div>
          <div>
            <label class="text-sm font-medium text-slate-600">Years of Experience</label>
            <input id="inputExperience" class="input-field" type="number" min="0" disabled>
          </div>
        </div>
        <div class="mt-6">
          <label class="text-sm font-medium text-slate-600">About Me</label>
          <textarea id="inputAbout" class="input-field" rows="4" disabled></textarea>
        </div>
      </section>

      <!-- Experience & Education -->
      <section class="grid lg:grid-cols-2 gap-8">
        <div class="card p-8">
          <div class="flex items-center justify-between mb-6">
            <h2 class="section-title">Work Experience</h2>
            <button id="btnAddExperience" class="btn-secondary hidden">Add Experience</button>
          </div>
          <div id="listExperience" class="space-y-6"></div>
        </div>
        <div class="card p-8">
          <div class="flex items-center justify-between mb-6">
            <h2 class="section-title">Education</h2>
            <button id="btnAddEducation" class="btn-secondary hidden">Add Education</button>
          </div>
          <div id="listEducation" class="space-y-6"></div>
        </div>
      </section>

      <!-- Skills & Resume -->
      <section class="grid lg:grid-cols-2 gap-8">
        <div class="card p-8">
          <div class="flex items-center justify-between mb-6">
            <h2 class="section-title">Skills</h2>
            <button id="btnAddSkill" class="btn-secondary hidden">Add Skill</button>
          </div>
          <div id="wrapSkills" class="flex flex-wrap gap-3"></div>
        </div>
        <div class="card p-8">
          <h2 class="section-title mb-6">Resume & Portfolio</h2>
          <div class="space-y-4">
            <div class="border-2 border-dashed border-slate-200 rounded-2xl p-6 text-center">
              <p class="text-sm text-slate-500 mb-2">Upload your latest resume</p>
              <p id="lblResumeName" class="text-slate-900 font-medium">No file uploaded</p>
              <label class="mt-4 inline-flex justify-center btn-primary cursor-pointer">
                <input id="fileResume" type="file" class="hidden" accept="application/pdf,.doc,.docx">
                Upload Resume
              </label>
            </div>
            <div>
              <label class="text-sm font-medium text-slate-600">Portfolio Link</label>
              <input id="inputPortfolio" class="input-field" type="url" disabled>
            </div>
            <div>
              <label class="text-sm font-medium text-slate-600">LinkedIn URL</label>
              <input id="inputLinkedIn" class="input-field" type="url" disabled>
            </div>
          </div>
        </div>
      </section>

      <!-- Preferences & Settings -->
      <section class="grid lg:grid-cols-2 gap-8">
        <div class="card p-8">
          <h2 class="section-title mb-6">Job Preferences</h2>
          <div class="space-y-5">
            <div>
              <label class="text-sm font-medium text-slate-600">Desired Salary Range (IDR)</label>
              <div class="grid grid-cols-2 gap-4 mt-2">
                <input id="inputSalaryMin" class="input-field" type="number" min="0" placeholder="Min" disabled>
                <input id="inputSalaryMax" class="input-field" type="number" min="0" placeholder="Max" disabled>
              </div>
            </div>
            <div>
              <label class="text-sm font-medium text-slate-600">Preferred Locations</label>
              <input id="inputPreferredLocation" class="input-field" type="text" disabled>
            </div>
            <div>
              <label class="text-sm font-medium text-slate-600">Preferred Work Mode</label>
              <select id="selectWorkMode" class="input-field" disabled>
                <option>On-site</option>
                <option>Hybrid</option>
                <option>Remote</option>
              </select>
            </div>
            <div>
              <label class="text-sm font-medium text-slate-600">Preferred Job Type</label>
              <select id="selectJobType" class="input-field" disabled>
                <option>Full-Time</option>
                <option>Part-Time</option>
                <option>Contract</option>
                <option>Internship</option>
              </select>
            </div>
          </div>
        </div>
        <div class="card p-8">
          <h2 class="section-title mb-6">Account Settings</h2>
          <div class="space-y-5">
            <div class="flex items-center justify-between">
              <div>
                <p class="font-medium text-slate-900">Email Notifications</p>
                <p class="text-sm text-slate-500">Receive updates about new matches</p>
              </div>
              <label class="inline-flex items-center cursor-pointer">
                <input id="toggleNotifications" type="checkbox" class="sr-only" disabled>
                <span class="w-12 h-6 bg-slate-300 rounded-full flex items-center px-1 transition" data-switch="bg"></span>
              </label>
            </div>
            <div class="flex items-center justify-between">
              <div>
                <p class="font-medium text-slate-900">Two-factor Authentication</p>
                <p class="text-sm text-slate-500">Keep your account secure</p>
              </div>
              <button class="btn-secondary">Manage</button>
            </div>
            <div>
              <p class="font-medium text-slate-900 mb-2">Danger Zone</p>
              <button class="w-full border border-rose-200 text-rose-500 rounded-2xl py-2 font-semibold">Deactivate Account</button>
            </div>
          </div>
        </div>
      </section>

      <!-- Action Bar -->
      <div id="barActions" class="fixed bottom-6 left-1/2 -translate-x-1/2 w-full max-w-3xl hidden">
        <div class="card p-4 flex items-center justify-between">
          <p class="text-sm text-slate-600">You are editing your profile</p>
          <div class="flex gap-3">
            <button id="btnCancelEdit" class="btn-secondary">Cancel</button>
            <button id="btnSaveProfile" class="btn-primary">Save Changes</button>
          </div>
        </div>
      </div>

    </div>
  </main>

  <!-- Footer -->
  <footer class="px-6 md:px-8 pb-8">
    <div class="card max-w-7xl mx-auto p-8 md:p-12">
      <div class="grid md:grid-cols-4 gap-8 mb-8">
        <div>
          <h4 class="text-xl font-bold text-sky-500 mb-4">HireLy</h4>
          <p class="text-slate-600 text-sm">Your trusted partner in finding the perfect career opportunity.</p>
        </div>
        <div>
          <h5 class="font-semibold mb-3">For Job Seekers</h5>
          <ul class="space-y-2 text-sm text-slate-600">
            <li><a href="jobs.html" class="hover:text-sky-500">Browse Jobs</a></li>
            <li><a href="saved-jobs.html" class="hover:text-sky-500">Saved Jobs</a></li>
            <li><a href="applications.html" class="hover:text-sky-500">Track Applications</a></li>
            <li><a href="recommendations.html" class="hover:text-sky-500">Recommendations</a></li>
          </ul>
        </div>
        <div>
          <h5 class="font-semibold mb-3">Tools & Support</h5>
          <ul class="space-y-2 text-sm text-slate-600">
            <li><a href="profile.html" class="hover:text-sky-500">Profile</a></li>
            <li><a href="chatbot.html" class="hover:text-sky-500">Career Assistant</a></li>
            <li><a href="rate-company.html" class="hover:text-sky-500">Rate Companies</a></li>
            <li><a href="report-fraud.html" class="hover:text-sky-500">Report Fraud</a></li>
          </ul>
        </div>
        <div>
          <h5 class="font-semibold mb-3">Company</h5>
          <ul class="space-y-2 text-sm text-slate-600">
            <li><a href="post-job.html" class="hover:text-sky-500">Post a Job</a></li>
            <li><a href="verification.html" class="hover:text-sky-500">Verification</a></li>
            <li><a href="login.html" class="hover:text-sky-500">Employer Login</a></li>
            <li><a href="register.html" class="hover:text-sky-500">Create Account</a></li>
          </ul>
        </div>
      </div>
      <div class="pt-6 border-t border-slate-200 flex flex-col sm:flex-row justify-between items-center gap-4">
        <p class="text-sm text-slate-600">© 2025 HireLy. All rights reserved.</p>
        <div class="flex gap-4">
          <a href="#" class="w-10 h-10 rounded-full bg-slate-100 hover:bg-sky-100 flex items-center justify-center transition-colors">
            <svg class="w-5 h-5 text-slate-600" fill="currentColor" viewBox="0 0 24 24">
              <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
            </svg>
          </a>
          <a href="#" class="w-10 h-10 rounded-full bg-slate-100 hover:bg-sky-100 flex items-center justify-center transition-colors">
            <svg class="w-5 h-5 text-slate-600" fill="currentColor" viewBox="0 0 24 24">
              <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/>
            </svg>
          </a>
          <a href="#" class="w-10 h-10 rounded-full bg-slate-100 hover:bg-sky-100 flex items-center justify-center transition-colors">
            <svg class="w-5 h-5 text-slate-600" fill="currentColor" viewBox="0 0 24 24">
              <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
            </svg>
          </a>
        </div>
      </div>
    </div>
  </footer>


  <script>
    const profileData = {
      fullName: 'Nadia Pratama',
      headline: 'Senior Frontend Developer',
      email: 'nadia.pratama@mail.com',
      phone: '+62 812 3456 7890',
      location: 'Jakarta, Indonesia',
      experienceYears: 6,
      about: 'Frontend engineer focused on crafting accessible, high-performance web applications. Passionate about design systems and mentoring junior developers.',
      experience: [
        { company: 'Tokopedia', title: 'Lead Frontend Engineer', duration: '2022 - Present', summary: 'Leading a squad of 6 engineers delivering checkout experience with Next.js and Tailwind.' },
        { company: 'Gojek', title: 'Frontend Developer', duration: '2019 - 2022', summary: 'Owned driver onboarding portal, improved conversion by 18% via UX revamp.' }
      ],
      education: [
        { school: 'Institut Teknologi Bandung', degree: 'BSc Computer Science', duration: '2014 - 2018', summary: 'Graduated with honors, Head of Developer Student Club.' }
      ],
      skills: ['React', 'Next.js', 'TypeScript', 'Tailwind CSS', 'UX Collaboration', 'Unit Testing'],
      resume: 'Nadia_Pratama_CV.pdf',
      portfolio: 'https://dribbble.com/nadiap',
      linkedin: 'https://www.linkedin.com/in/nadiapratama',
      salaryMin: 15000000,
      salaryMax: 23000000,
      preferredLocation: 'Jakarta, Bandung, Remote',
      workMode: 'Hybrid',
      jobType: 'Full-Time',
      notifications: true
    };

    let isEditing = false;

    document.addEventListener('DOMContentLoaded', () => {
      populateProfile();
      document.getElementById('btnEditProfile').addEventListener('click', enableEditMode);
      document.getElementById('btnCancelEdit').addEventListener('click', cancelEdit);
      document.getElementById('btnSaveProfile').addEventListener('click', saveProfile);
      document.getElementById('btnAddSkill').addEventListener('click', promptSkill);
      document.getElementById('btnAddExperience').addEventListener('click', promptExperience);
      document.getElementById('btnAddEducation').addEventListener('click', promptEducation);
      document.getElementById('filePhoto').addEventListener('change', handlePhotoUpload);
      document.getElementById('fileResume').addEventListener('change', handleResumeUpload);
      document.getElementById('btnShareProfile').addEventListener('click', shareProfile);
    });

    function populateProfile() {
      document.getElementById('lblFullName').textContent = profileData.fullName;
      document.getElementById('lblHeadline').textContent = profileData.headline;
      document.getElementById('lblLocation').textContent = profileData.location;
      document.getElementById('lblExperience').textContent = profileData.experienceYears + ' yrs exp';

      document.getElementById('inputFullName').value = profileData.fullName;
      document.getElementById('inputHeadline').value = profileData.headline;
      document.getElementById('inputEmail').value = profileData.email;
      document.getElementById('inputPhone').value = profileData.phone;
      document.getElementById('inputLocation').value = profileData.location;
      document.getElementById('inputExperience').value = profileData.experienceYears;
      document.getElementById('inputAbout').value = profileData.about;

      renderExperience();
      renderEducation();
      renderSkills();

      document.getElementById('lblResumeName').textContent = profileData.resume || 'No file uploaded';
      document.getElementById('inputPortfolio').value = profileData.portfolio || '';
      document.getElementById('inputLinkedIn').value = profileData.linkedin || '';
      document.getElementById('inputSalaryMin').value = profileData.salaryMin || '';
      document.getElementById('inputSalaryMax').value = profileData.salaryMax || '';
      document.getElementById('inputPreferredLocation').value = profileData.preferredLocation || '';
      document.getElementById('selectWorkMode').value = profileData.workMode;
      document.getElementById('selectJobType').value = profileData.jobType;
      document.getElementById('toggleNotifications').checked = profileData.notifications;
      updateSwitchColor();
      updateCompleteness();
    }

    function renderExperience() {
      const wrap = document.getElementById('listExperience');
      wrap.innerHTML = profileData.experience.map(item => `
        <div class="bg-slate-50 rounded-2xl p-5 border border-slate-100">
          <div class="flex items-center justify-between">
            <div>
              <p class="font-semibold text-slate-900">${item.title}</p>
              <p class="text-sm text-slate-500">${item.company}</p>
            </div>
            <span class="text-sm text-slate-400">${item.duration}</span>
          </div>
          <p class="text-sm text-slate-600 mt-3">${item.summary}</p>
        </div>
      `).join('');
    }

    function renderEducation() {
      const wrap = document.getElementById('listEducation');
      wrap.innerHTML = profileData.education.map(item => `
        <div class="bg-slate-50 rounded-2xl p-5 border border-slate-100">
          <div class="flex items-center justify-between">
            <div>
              <p class="font-semibold text-slate-900">${item.school}</p>
              <p class="text-sm text-slate-500">${item.degree}</p>
            </div>
            <span class="text-sm text-slate-400">${item.duration}</span>
          </div>
          <p class="text-sm text-slate-600 mt-3">${item.summary}</p>
        </div>
      `).join('');
    }

    function renderSkills() {
      const wrap = document.getElementById('wrapSkills');
      if (!profileData.skills.length) {
        wrap.innerHTML = '<p class="text-sm text-slate-500">Add skills so recruiters can find you faster.</p>';
        return;
      }
      wrap.innerHTML = profileData.skills.map(skill => `
        <span class="chip">${skill}${isEditing ? `<button data-skill="${skill}" onclick="removeSkill('${skill}')">✕</button>` : ''}</span>
      `).join('');
    }

    function enableEditMode() {
      isEditing = true;
      toggleFormInputs(false);
      document.getElementById('barActions').classList.remove('hidden');
      document.getElementById('btnAddExperience').classList.remove('hidden');
      document.getElementById('btnAddEducation').classList.remove('hidden');
      document.getElementById('btnAddSkill').classList.remove('hidden');
      renderSkills();
    }

    function cancelEdit() {
      isEditing = false;
      toggleFormInputs(true);
      document.getElementById('barActions').classList.add('hidden');
      document.getElementById('btnAddExperience').classList.add('hidden');
      document.getElementById('btnAddEducation').classList.add('hidden');
      document.getElementById('btnAddSkill').classList.add('hidden');
      populateProfile();
    }

    function saveProfile() {
      profileData.fullName = document.getElementById('inputFullName').value;
      profileData.headline = document.getElementById('inputHeadline').value;
      profileData.email = document.getElementById('inputEmail').value;
      profileData.phone = document.getElementById('inputPhone').value;
      profileData.location = document.getElementById('inputLocation').value;
      profileData.experienceYears = Number(document.getElementById('inputExperience').value) || 0;
      profileData.about = document.getElementById('inputAbout').value;
      profileData.portfolio = document.getElementById('inputPortfolio').value;
      profileData.linkedin = document.getElementById('inputLinkedIn').value;
      profileData.salaryMin = Number(document.getElementById('inputSalaryMin').value) || '';
      profileData.salaryMax = Number(document.getElementById('inputSalaryMax').value) || '';
      profileData.preferredLocation = document.getElementById('inputPreferredLocation').value;
      profileData.workMode = document.getElementById('selectWorkMode').value;
      profileData.jobType = document.getElementById('selectJobType').value;
      profileData.notifications = document.getElementById('toggleNotifications').checked;
      isEditing = false;
      toggleFormInputs(true);
      document.getElementById('barActions').classList.add('hidden');
      document.getElementById('btnAddExperience').classList.add('hidden');
      document.getElementById('btnAddEducation').classList.add('hidden');
      document.getElementById('btnAddSkill').classList.add('hidden');
      populateProfile();
      alert('Profile saved successfully.');
    }

    function toggleFormInputs(disabled) {
      document.querySelectorAll('.input-field, select, textarea, #toggleNotifications').forEach(el => {
        el.disabled = disabled;
      });
    }

    function promptSkill() {
      const skill = prompt('Enter new skill');
      if (skill) {
        profileData.skills.push(skill.trim());
        renderSkills();
        updateCompleteness();
      }
    }

    function promptExperience() {
      if (!isEditing) return;
      const company = prompt('Company name');
      const title = prompt('Job title');
      if (!company || !title) return;
      profileData.experience.unshift({
        company: company.trim(),
        title: title.trim(),
        duration: 'Present',
        summary: 'Describe your impact here.'
      });
      renderExperience();
      updateCompleteness();
    }

    function promptEducation() {
      if (!isEditing) return;
      const school = prompt('School');
      const degree = prompt('Degree');
      if (!school || !degree) return;
      profileData.education.unshift({
        school: school.trim(),
        degree: degree.trim(),
        duration: 'Present',
        summary: 'Highlight your achievements.'
      });
      renderEducation();
      updateCompleteness();
    }

    function removeSkill(skill) {
      profileData.skills = profileData.skills.filter(s => s !== skill);
      renderSkills();
      updateCompleteness();
    }

    function handlePhotoUpload(event) {
      const file = event.target.files[0];
      if (!file) return;
      if (!file.type.startsWith('image/')) {
        alert('Please upload an image file.');
        return;
      }
      const reader = new FileReader();
      reader.onload = e => {
        document.getElementById('imgProfilePhoto').src = e.target.result;
      };
      reader.readAsDataURL(file);
    }

    function handleResumeUpload(event) {
      const file = event.target.files[0];
      if (!file) return;
      const allowed = ['application/pdf', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'];
      if (!allowed.includes(file.type)) {
        alert('Upload PDF or Word documents only.');
        return;
      }
      if (file.size > 10 * 1024 * 1024) {
        alert('File too large. Max 10MB.');
        return;
      }
      profileData.resume = file.name;
      document.getElementById('lblResumeName').textContent = file.name;
      updateCompleteness();
    }

    function shareProfile() {
      const shareData = {
        title: 'HireLy Profile',
        text: `Check out ${profileData.fullName}'s HireLy profile`,
        url: window.location.href
      };
      if (navigator.share) {
        navigator.share(shareData).catch(() => alert('Unable to share right now.'));
      } else {
        navigator.clipboard.writeText(shareData.url).then(() => alert('Profile link copied!'));
      }
    }

    function updateCompleteness() {
      let score = 0;
      const checks = [
        !!profileData.fullName,
        !!profileData.headline,
        !!profileData.email,
        !!profileData.phone,
        !!profileData.about,
        profileData.experience.length > 0,
        profileData.education.length > 0,
        profileData.skills.length >= 3,
        !!profileData.resume,
        !!profileData.portfolio
      ];
      score = checks.filter(Boolean).length;
      const percentage = Math.round((score / checks.length) * 100);
      document.getElementById('lblCompleteness').textContent = percentage + '%';
      document.getElementById('barCompleteness').style.width = percentage + '%';
    }

    function updateSwitchColor() {
      const toggler = document.querySelector('[data-switch="bg"]');
      const checked = document.getElementById('toggleNotifications').checked;
      toggler.classList.toggle('bg-sky-500', checked);
      toggler.classList.toggle('bg-slate-300', !checked);
      toggler.innerHTML = `<span class="w-4 h-4 bg-white rounded-full shadow transform transition ${checked ? 'translate-x-6' : ''}"></span>`;
    }

    document.getElementById('toggleNotifications').addEventListener('change', updateSwitchColor);
  </script>
</body>
</html>
